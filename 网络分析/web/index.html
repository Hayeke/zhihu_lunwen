<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>我的作品</title>
    <script src="js/echarts.min.js"></script>
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/dataTool.min.js"></script>
    <script src="js/dark.js"></script>
</head>
<body style="height: 100%; margin: 0">
<div id="network" style="height:1500px"></div>
<div id="river_time" style="height:500px "></div>

<script >

    var myChart = echarts.init(document.getElementById('network'),'dark');
    option  = null;
    myChart.showLoading();

    $.get('data/zhihudata.gexf', function (xml)
    {
        myChart.hideLoading();
        var graph = echarts.dataTool.gexf.parse(xml);
        var categories = [];
        categories[0] = {name:"企业/品牌"};
        categories[1] = {name:"形式/类型"};
        categories[2] = {name:"观点/认知"};
        categories[3] = {name:"地理区域"};
        categories[4] = {name:"相关人物"};
        categories[5] = {name:"机构领域"};
        categories[6] = {name:"人群需求"};
        categories[7] = {name:"角色职业"};
        categories[8] = {name:"未分类"};


        graph.nodes.forEach(function (node) {
            node.itemStyle = null;
            node.value = node.symbolSize*10;
            node.symbolSize /= 0.2;
            node.label = {
                normal: {
                    show: node.value >=0,
                }
            };
            node.category = node.attributes.modularity_class;
        });
        option = {
            title: {
                text: '《传销 知乎？》',
                top: 'top',
                left: 'left'
            },
            tooltip: {
            },
            legend: [{
                top:10,

                // selectedMode: 'single',
                data: categories.map(function (a) {
                    return a.name;
                })
            }],
            animationDurationUpdate: 1500,
            animationEasingUpdate: 'quinticInOut',
            series : [
                {
                    name: '话题相关图 ',
                    type: 'graph',
                    layout: 'circular',
                    circular: {
                        rotateLabel: true,
                    },
                    hoverAnamatino:true,
                    data: graph.nodes,
                    roam: true,
                    links: graph.links,
                    categories: categories,
                    label: {
                        normal: {
                            position: 'right',
                            formatter: '{b}'
                        }
                    },
                    lineStyle: {
                        normal: {
                            color: 'source',
                            curveness: 0.3
                        }
                    }
                }
            ]
        };
    myChart.setOption(option);
    }, 'xml');

</script>
<script>
    var myChart2 = echarts.init(document.getElementById('river_time'),"dark");
    var option = {
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'line',
            lineStyle: {
                color: 'rgba(0,0,0,0.2)',
                width: 1,
                type: 'solid'
            }
        }
    },

    legend: {
        data:['企业/品牌','形式/类型',"观点/认知","地理区域","相关人物","机构领域",'人群需求',"角色职业"]
    },

    singleAxis: {
        top: 50,
        bottom: 100,
        axisTick: {},
        axisLabel: {},
        type: 'time',
        axisPointer: {
            animation: true,
            label: {
                show: true
            }
        },
        splitLine: {
            show: true,
            lineStyle: {
                type: 'dashed',
                opacity: 0.2
            }
        }
    },

    series: [
        {
            type: 'themeRiver',
            itemStyle: {
                emphasis: {
                    shadowBlur: 20,
                    shadowColor: 'rgba(0, 0, 0, 0.8)'
                }
            },
            data:[
                ["2015-01-31",28.0,"企业/品牌"],
                ["2015-02-28",25.0,"企业/品牌"],
                ["2015-03-31",41.0,"企业/品牌"],
                ["2015-04-30",100.0,"企业/品牌"],
                ["2015-05-31",74.0,"企业/品牌"],
                ["2015-06-30",194.0,"企业/品牌"],
                ["2015-07-31",96.0,"企业/品牌"],
                ["2015-08-14",115.0,"企业/品牌"],
                ["2015-09-30",164.0,"企业/品牌"],
                ["2015-10-31",207.0,"企业/品牌"],
                ["2015-11-30",130.0,"企业/品牌"],
                ["2015-12-31",156.0,"企业/品牌"],
                ["2016-01-31",242.0,"企业/品牌"],
                ["2016-02-29",206.0,"企业/品牌"],
                ["2016-03-31",329.0,"企业/品牌"],
                ["2016-04-30",153.0,"企业/品牌"],
                ["2016-05-31",200.0,"企业/品牌"],
                ["2016-06-30",158.0,"企业/品牌"],
                ["2016-07-31",184.0,"企业/品牌"],
                ["2016-08-14",227.0,"企业/品牌"],
                ["2016-09-30",115.0,"企业/品牌"],
                ["2016-10-31",169.0,"企业/品牌"],
                ["2016-11-30",101.0,"企业/品牌"],
                ["2016-12-31",180.0,"企业/品牌"],
                ["2017-01-31",131.0,"企业/品牌"],
                ["2017-02-28",343.0,"企业/品牌"],
                ["2017-03-31",112.0,"企业/品牌"],
                ["2017-04-30",135.0,"企业/品牌"],
                ["2017-05-31",106.0,"企业/品牌"],
                ["2017-06-30",120.0,"企业/品牌"],
                ["2017-07-31",104.0,"企业/品牌"],
                ["2017-08-14",254.0,"企业/品牌"],
                ["2015-01-31",65.0,"形式/类型"],
                ["2015-02-28",57.0,"形式/类型"],
                ["2015-03-31",49.0,"形式/类型"],
                ["2015-04-30",107.0,"形式/类型"],
                ["2015-05-31",85.0,"形式/类型"],
                ["2015-06-30",127.0,"形式/类型"],
                ["2015-07-31",238.0,"形式/类型"],
                ["2015-08-14",134.0,"形式/类型"],
                ["2015-09-30",246.0,"形式/类型"],
                ["2015-10-31",125.0,"形式/类型"],
                ["2015-11-30",136.0,"形式/类型"],
                ["2015-12-31",140.0,"形式/类型"],
                ["2016-01-31",292.0,"形式/类型"],
                ["2016-02-29",212.0,"形式/类型"],
                ["2016-03-31",406.0,"形式/类型"],
                ["2016-04-30",223.0,"形式/类型"],
                ["2016-05-31",274.0,"形式/类型"],
                ["2016-06-30",220.0,"形式/类型"],
                ["2016-07-31",749.0,"形式/类型"],
                ["2016-08-14",409.0,"形式/类型"],
                ["2016-09-30",214.0,"形式/类型"],
                ["2016-10-31",181.0,"形式/类型"],
                ["2016-11-30",148.0,"形式/类型"],
                ["2016-12-31",328.0,"形式/类型"],
                ["2017-01-31",226.0,"形式/类型"],
                ["2017-02-28",481.0,"形式/类型"],
                ["2017-03-31",265.0,"形式/类型"],
                ["2017-04-30",213.0,"形式/类型"],
                ["2017-05-31",191.0,"形式/类型"],
                ["2017-06-30",236.0,"形式/类型"],
                ["2017-07-31",249.0,"形式/类型"],
                ["2017-08-14",262.0,"形式/类型"],
                ["2015-01-31",106.0,"观点/认知"],
                ["2015-02-28",71.0,"观点/认知"],
                ["2015-03-31",170.0,"观点/认知"],
                ["2015-04-30",109.0,"观点/认知"],
                ["2015-05-31",105.0,"观点/认知"],
                ["2015-06-30",414.0,"观点/认知"],
                ["2015-07-31",615.0,"观点/认知"],
                ["2015-08-14",149.0,"观点/认知"],
                ["2015-09-30",931.0,"观点/认知"],
                ["2015-10-31",244.0,"观点/认知"],
                ["2015-11-30",189.0,"观点/认知"],
                ["2015-12-31",304.0,"观点/认知"],
                ["2016-01-31",386.0,"观点/认知"],
                ["2016-02-29",196.0,"观点/认知"],
                ["2016-03-31",295.0,"观点/认知"],
                ["2016-04-30",253.0,"观点/认知"],
                ["2016-05-31",239.0,"观点/认知"],
                ["2016-06-30",173.0,"观点/认知"],
                ["2016-07-31",495.0,"观点/认知"],
                ["2016-08-14",231.0,"观点/认知"],
                ["2016-09-30",138.0,"观点/认知"],
                ["2016-10-31",161.0,"观点/认知"],
                ["2016-11-30",317.0,"观点/认知"],
                ["2016-12-31",1555.0,"观点/认知"],
                ["2017-01-31",284.0,"观点/认知"],
                ["2017-02-28",381.0,"观点/认知"],
                ["2017-03-31",345.0,"观点/认知"],
                ["2017-04-30",386.0,"观点/认知"],
                ["2017-05-31",336.0,"观点/认知"],
                ["2017-06-30",653.0,"观点/认知"],
                ["2017-07-31",469.0,"观点/认知"],
                ["2017-08-14",1531.0,"观点/认知"],
                ["2015-01-31",9.0,"地理区域"],
                ["2015-02-28",0.0,"地理区域"],
                ["2015-03-31",9.0,"地理区域"],
                ["2015-04-30",3.0,"地理区域"],
                ["2015-05-31",10.0,"地理区域"],
                ["2015-06-30",12.0,"地理区域"],
                ["2015-07-31",27.0,"地理区域"],
                ["2015-08-14",10.0,"地理区域"],
                ["2015-09-30",7.0,"地理区域"],
                ["2015-10-31",3.0,"地理区域"],
                ["2015-11-30",6.0,"地理区域"],
                ["2015-12-31",11.0,"地理区域"],
                ["2016-01-31",14.0,"地理区域"],
                ["2016-02-29",15.0,"地理区域"],
                ["2016-03-31",17.0,"地理区域"],
                ["2016-04-30",11.0,"地理区域"],
                ["2016-05-31",8.0,"地理区域"],
                ["2016-06-30",11.0,"地理区域"],
                ["2016-07-31",10.0,"地理区域"],
                ["2016-08-14",21.0,"地理区域"],
                ["2016-09-30",6.0,"地理区域"],
                ["2016-10-31",16.0,"地理区域"],
                ["2016-11-30",7.0,"地理区域"],
                ["2016-12-31",3.0,"地理区域"],
                ["2017-01-31",9.0,"地理区域"],
                ["2017-02-28",10.0,"地理区域"],
                ["2017-03-31",10.0,"地理区域"],
                ["2017-04-30",8.0,"地理区域"],
                ["2017-05-31",3.0,"地理区域"],
                ["2017-06-30",39.0,"地理区域"],
                ["2017-07-31",293.0,"地理区域"],
                ["2017-08-14",30.0,"地理区域"],
                 ["2015-01-31",0.0,"相关人物"],
                ["2015-02-28",0.0,"相关人物"],
                ["2015-03-31",1.0,"相关人物"],
                ["2015-04-30",1.0,"相关人物"],
                ["2015-05-31",0.0,"相关人物"],
                ["2015-06-30",9.0,"相关人物"],
                ["2015-07-31",0.0,"相关人物"],
                ["2015-08-14",8.0,"相关人物"],
                ["2015-09-30",4.0,"相关人物"],
                ["2015-10-31",0.0,"相关人物"],
                ["2015-11-30",1.0,"相关人物"],
                ["2015-12-31",0.0,"相关人物"],
                ["2016-01-31",21.0,"相关人物"],
                ["2016-02-29",3.0,"相关人物"],
                ["2016-03-31",3.0,"相关人物"],
                ["2016-04-30",3.0,"相关人物"],
                ["2016-05-31",0.0,"相关人物"],
                ["2016-06-30",2.0,"相关人物"],
                ["2016-07-31",0.0,"相关人物"],
                ["2016-08-14",4.0,"相关人物"],
                ["2016-09-30",0.0,"相关人物"],
                ["2016-10-31",0.0,"相关人物"],
                ["2016-11-30",0.0,"相关人物"],
                ["2016-12-31",1.0,"相关人物"],
                ["2017-01-31",1.0,"相关人物"],
                ["2017-02-28",15.0,"相关人物"],
                ["2017-03-31",26.0,"相关人物"],
                ["2017-04-30",2.0,"相关人物"],
                ["2017-05-31",0.0,"相关人物"],
                ["2017-06-30",1.0,"相关人物"],
                ["2017-07-31",0.0,"相关人物"],
                ["2017-08-14",44.0,"相关人物"],
                 ["2015-01-31",26.0,"机构领域"],
                ["2015-02-28",41.0,"机构领域"],
                ["2015-03-31",30.0,"机构领域"],
                ["2015-04-30",328.0,"机构领域"],
                ["2015-05-31",13.0,"机构领域"],
                ["2015-06-30",52.0,"机构领域"],
                ["2015-07-31",52.0,"机构领域"],
                ["2015-08-14",21.0,"机构领域"],
                ["2015-09-30",103.0,"机构领域"],
                ["2015-10-31",129.0,"机构领域"],
                ["2015-11-30",22.0,"机构领域"],
                ["2015-12-31",248.0,"机构领域"],
                ["2016-01-31",302.0,"机构领域"],
                ["2016-02-29",89.0,"机构领域"],
                ["2016-03-31",214.0,"机构领域"],
                ["2016-04-30",120.0,"机构领域"],
                ["2016-05-31",55.0,"机构领域"],
                ["2016-06-30",37.0,"机构领域"],
                ["2016-07-31",275.0,"机构领域"],
                ["2016-08-14",54.0,"机构领域"],
                ["2016-09-30",26.0,"机构领域"],
                ["2016-10-31",25.0,"机构领域"],
                ["2016-11-30",26.0,"机构领域"],
                ["2016-12-31",185.0,"机构领域"],
                ["2017-01-31",50.0,"机构领域"],
                ["2017-02-28",41.0,"机构领域"],
                ["2017-03-31",35.0,"机构领域"],
                ["2017-04-30",40.0,"机构领域"],
                ["2017-05-31",31.0,"机构领域"],
                ["2017-06-30",60.0,"机构领域"],
                ["2017-07-31",44.0,"机构领域"],
                ["2017-08-14",42.0,"机构领域"],
                ["2015-01-31",11.0,"人群需求"],
                ["2015-02-28",15.0,"人群需求"],
                ["2015-03-31",1.0,"人群需求"],
                ["2015-04-30",2.0,"人群需求"],
                ["2015-05-31",18.0,"人群需求"],
                ["2015-06-30",27.0,"人群需求"],
                ["2015-07-31",6.0,"人群需求"],
                ["2015-08-14",10.0,"人群需求"],
                ["2015-09-30",7.0,"人群需求"],
                ["2015-10-31",3.0,"人群需求"],
                ["2015-11-30",11.0,"人群需求"],
                ["2015-12-31",11.0,"人群需求"],
                ["2016-01-31",62.0,"人群需求"],
                ["2016-02-29",80.0,"人群需求"],
                ["2016-03-31",130.0,"人群需求"],
                ["2016-04-30",33.0,"人群需求"],
                ["2016-05-31",34.0,"人群需求"],
                ["2016-06-30",24.0,"人群需求"],
                ["2016-07-31",45.0,"人群需求"],
                ["2016-08-14",43.0,"人群需求"],
                ["2016-09-30",16.0,"人群需求"],
                ["2016-10-31",14.0,"人群需求"],
                ["2016-11-30",18.0,"人群需求"],
                ["2016-12-31",24.0,"人群需求"],
                ["2017-01-31",17.0,"人群需求"],
                ["2017-02-28",15.0,"人群需求"],
                ["2017-03-31",10.0,"人群需求"],
                ["2017-04-30",19.0,"人群需求"],
                ["2017-05-31",14.0,"人群需求"],
                ["2017-06-30",15.0,"人群需求"],
                ["2017-07-31",18.0,"人群需求"],
                ["2017-08-14",942.0,"人群需求"],
                ["2015-01-31",2.0,"角色职业"],
                ["2015-02-28",5.0,"角色职业"],
                ["2015-03-31",56.0,"角色职业"],
                ["2015-04-30",29.0,"角色职业"],
                ["2015-05-31",3.0,"角色职业"],
                ["2015-06-30",10.0,"角色职业"],
                ["2015-07-31",15.0,"角色职业"],
                ["2015-08-14",10.0,"角色职业"],
                ["2015-09-30",12.0,"角色职业"],
                ["2015-10-31",11.0,"角色职业"],
                ["2015-11-30",10.0,"角色职业"],
                ["2015-12-31",9.0,"角色职业"],
                ["2016-01-31",62.0,"角色职业"],
                ["2016-02-29",67.0,"角色职业"],
                ["2016-03-31",131.0,"角色职业"],
                ["2016-04-30",18.0,"角色职业"],
                ["2016-05-31",21.0,"角色职业"],
                ["2016-06-30",10.0,"角色职业"],
                ["2016-07-31",10.0,"角色职业"],
                ["2016-08-14",19.0,"角色职业"],
                ["2016-09-30",8.0,"角色职业"],
                ["2016-10-31",13.0,"角色职业"],
                ["2016-11-30",24.0,"角色职业"],
                ["2016-12-31",15.0,"角色职业"],
                ["2017-01-31",33.0,"角色职业"],
                ["2017-02-28",33.0,"角色职业"],
                ["2017-03-31",25.0,"角色职业"],
                ["2017-04-30",95.0,"角色职业"],
                ["2017-05-31",31.0,"角色职业"],
                ["2017-06-30",24.0,"角色职业"],
                ["2017-07-31",174.0,"角色职业"],
                ["2017-08-14",560.0,"角色职业"]
            ],
        }
    ]
};
    myChart2.setOption(option);

</script>
</body>
</html>


